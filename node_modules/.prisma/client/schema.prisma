generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model admin {
  id        Int    @id @default(autoincrement())
  full_name String
  phone     String @unique(map: "Admin_phone_key")
  otp       Int    @default(1)
}

model media {
  id           Int      @id @default(autoincrement())
  reference_id Int      @default(0)
  type         String   @default("")
  media_type   String?  @default("")
  path         String   @default("")
  created_at   DateTime @default(now()) @db.Timestamp(0)
  updated_at   DateTime @default(now()) @db.Timestamp(0)
}

model user {
  id                  Int              @id @default(autoincrement())
  full_name           String           @default("")
  email               String           @default("noemail@curepe.com")
  phone               String           @unique(map: "User_phone_key")
  gender              String           @default("")
  otp                 Int              @default(1)
  dob                 String           @default("02/2/2000")
  health_id           String           @default("name1234")
  passkey             String           @default("")
  time_zone           String           @default("UTC")
  remember_token      Boolean          @default(false)
  verified            Boolean          @default(false)
  skipped_preferences Boolean          @default(false)
  has_preferences     Boolean          @default(false)
  created_at          DateTime         @default(now())
  updated_at          DateTime
  image               String           @default("")
  user_relatives      user_relatives[]
}

model user_relatives {
  id         Int      @id @default(autoincrement())
  full_name  String
  phone      String   @unique(map: "User_relatives_phone_key")
  gender     String
  dob        String
  relation   String
  created_at DateTime @default(now())
  updated_at DateTime
  userId     Int
  health_id  String   @default("name1234")
  user       user     @relation(fields: [userId], references: [id], map: "User_relatives_userId_fkey")

  @@index([userId], map: "User_relatives_userId_fkey")
}
